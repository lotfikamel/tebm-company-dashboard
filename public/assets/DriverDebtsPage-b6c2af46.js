import{q as m,j as s,D as x,F as j,x as D,y as h}from"./index-199c3c1b.js";import{u,a as v}from"./RevenuesQueries-e5259653.js";import{D as p}from"./Debt-5eb5c655.js";import{G as f}from"./GridList-d4291e7c.js";import"./useInfiniteQuery-28b756f2.js";import"./arrow-right-4d9b4616.js";import"./chevron-right-7a9ede92.js";const g=({title:t,stat:a})=>s.jsx("div",{className:"stats shadow",children:s.jsxs("div",{className:"stat",children:[s.jsx("div",{className:"stat-title",children:t}),s.jsx("div",{className:"stat-value text-red-500",children:a})]})}),N=({driverId:t})=>{const{data:a,isLoading:r,isError:i}=v({driverId:t});return r||i?null:s.jsx("div",{children:s.jsx(g,{title:"Total des dettes",stat:D(a)})})},A=()=>{const{driverId:t}=m(),{data:a=[],isLoading:r,isError:i,refetch:d,hasNextPage:o,fetchNextPage:n,isFetchingNextPage:c}=u({driverId:t}),l=e=>h({driverId:t,startDate:e.creationDate,endDate:e.creationDate});return s.jsxs("div",{id:"driver-debts-page",children:[r&&s.jsx(x,{}),!r&&i&&s.jsx(j,{tryAgain:d}),!r&&!i&&s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4",children:"Dettes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(N,{driverId:t}),s.jsx(f,{data:a,renderElements:e=>s.jsx(p,{debt:e,payLink:l(e)},e._id),fetchNextPage:n,isFetchingNextPage:c,hasNextPage:o,className:"grid-cols-1 gap-4"})]})]})]})};export{A as default};
