import{Q as u,H as c}from"./index-199c3c1b.js";import{u as o}from"./useInfiniteQuery-28b756f2.js";const r={fetchEngineInfos:"/fetch/engines/infos",fetchEngines:"/fetch/engines",fetchMoreEngines:"/fetch/engines/more",fetchEngineDetails:"/fetch/engines/details",fetchEngineTypes:"/fetch/engines/types",searchEngineByLicencePlate:"/fetch/engines/search"};function h({filters:n,pageParam:t=null}){return new Promise((e,s)=>{const a=t,g=a?r.fetchMoreEngines:r.fetchEngines;c.get(g,{params:{filters:n,creationDate:a}}).then(i=>e(i.data.response)).catch(i=>s(i))})}function f({engineId:n}){return new Promise((t,e)=>{c.get(r.fetchEngineDetails,{params:{engineId:n}}).then(s=>t(s.data.response[0])).catch(s=>e(s))})}function E(){return new Promise((n,t)=>{c.get(r.fetchEngineTypes).then(e=>n(e.data.response)).catch(e=>t(e))})}function y({licencePlate:n}){return new Promise((t,e)=>{c.get(r.searchEngineByLicencePlate,{params:{licencePlate:n}}).then(s=>t(s.data.response)).catch(s=>(console.log(s),e(s)))})}const m=({filters:n,...t})=>o(["engines",n],({pageParam:e})=>h({pageParam:e,filters:n}),{getNextPageParam:e=>e.length>0?e[e.length-1].creationDate:void 0,select:e=>e.pages.flat(),...t}),D=({engineId:n,...t})=>u(["engineDetails",n],()=>f({engineId:n}),{...t}),P=n=>u(["engineTypes"],E,{...n});export{m as a,D as b,y as s,P as u};
