import{r as p,R as o,P as c,q as g,j as e,D as j,F as f,N as v,h as u,e as N,g as b,s as y,c as w,O as E}from"./index-8aeefa04.js";import{b as O}from"./EnginesQueries-da6c148c.js";import{I as P}from"./Image-64642698.js";import{E as k,a as D}from"./EngineStatus-085d1618.js";import{C as A}from"./calendar-e2fd9675.js";import{H as L}from"./hash-32d10584.js";import{E as z}from"./external-link-51b68c72.js";import"./useInfiniteQuery-bc6f39db.js";import"./more-vertical-515829e2.js";function d(){return d=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])}return r},d.apply(this,arguments)}function C(r,i){if(r==null)return{};var s=I(r,i),a,t;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(t=0;t<l.length;t++)a=l[t],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(s[a]=r[a])}return s}function I(r,i){if(r==null)return{};var s={},a=Object.keys(r),t,l;for(l=0;l<a.length;l++)t=a[l],!(i.indexOf(t)>=0)&&(s[t]=r[t]);return s}var m=p.forwardRef(function(r,i){var s=r.color,a=s===void 0?"currentColor":s,t=r.size,l=t===void 0?24:t,n=C(r,["color","size"]);return o.createElement("svg",d({ref:i,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),o.createElement("circle",{cx:"12",cy:"8",r:"7"}),o.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}))});m.propTypes={color:c.string,size:c.oneOfType([c.string,c.number])};m.displayName="Award";const R=m,S=()=>{const{engineId:r}=g(),i=[{path:"",label:"Courses"}],{data:s,isLoading:a,isError:t,refetch:l}=O({engineId:r});return e.jsx("div",{id:"engine-details-page",children:e.jsxs("div",{className:"container mx-auto px-4",children:[a&&e.jsx(j,{}),!a&&t&&e.jsx(f,{tryAgain:l}),!a&&!t&&!s&&e.jsx(v,{}),!a&&!t&&s&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"font-semibold mb-6",children:"Détails d'engin"}),e.jsxs("div",{className:"grid gap-4 grid-cols-12",children:[e.jsxs("div",{className:"col-span-4 space-y-4",children:[e.jsxs("div",{className:"shadow-lg p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex flex-1",children:e.jsx("div",{className:"font-medium text-2xl",children:s.name})}),e.jsx(k,{engine:s})]}),e.jsx(D,{status:s.status}),e.jsxs("div",{className:"space-y-2 text-stone-600 text-lg",children:[e.jsxs("div",{className:"flex items-center text-lg",children:[e.jsx(A,{}),e.jsx("div",{className:"ml-2",children:u(s.creationDate).format("DD MMMM YYYY HH:mm")})]}),e.jsxs("div",{className:"flex items-center text-lg",children:[e.jsx(L,{}),e.jsx("div",{className:"ml-2",children:s.licencePlate})]}),e.jsxs("div",{className:"flex items-center text-lg",children:[e.jsx(R,{}),e.jsx("div",{className:"ml-2",children:s.year})]}),e.jsxs("div",{children:[s.total.completedRides," transport terminés"]})]})]}),e.jsxs("div",{className:"shadow-lg p-4 rounded-lg",children:[e.jsx("h4",{className:"mb-2",children:"Photos"}),e.jsx("div",{className:"grid gap-1 grid-cols-3",children:s.photos.map(n=>e.jsx("div",{children:e.jsx(P,{src:n.src,className:"rounded-lg aspect-ratio-square"})},n._id))})]}),e.jsxs("div",{className:"shadow-lg p-4 rounded-lg",children:[e.jsx("h4",{className:"mb-2",children:"Chauffeur"}),s.driver?e.jsx(N,{to:`/drivers/profile/${s.driverId}`,children:e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsxs("div",{className:"flex flex-1 items-center",children:[e.jsx("img",{src:s.driver.photo.src,className:"w-16 h-16 rounded-full",alt:""}),e.jsx("div",{className:"ml-2 font-medium text-gray-700",children:b(s.driver.firstName,s.driver.lastName)})]}),e.jsx(z,{className:"text-gray-700",size:20})]})}):e.jsx("div",{className:"py-2 px-4 bg-orange-100 text-orange-500 rounded-lg",children:"Aucun chauffeur attaché"})]})]}),e.jsxs("div",{className:"col-span-8 space-y-6",children:[e.jsx("div",{className:"tabs",children:i.map((n,x)=>e.jsx(y,{to:n.path,end:!0,className:({isActive:h})=>w("tab flex-1 tab-lg tab-lifted",{"tab-active":h}),children:n.label},x))}),e.jsx("div",{children:e.jsx(E,{})})]})]})]})]})})};export{S as default};
