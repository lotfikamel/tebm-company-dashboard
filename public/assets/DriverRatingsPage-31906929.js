import{R as c,j as s,e as t,g as x,q as g,D as u,F as h}from"./index-8aeefa04.js";import{b as j}from"./DriversQueries-e34ad2a9.js";import{G as p}from"./GridList-b4bd86fb.js";import{F as N}from"./FiveStarsRating-f6eb5023.js";import{E as f}from"./external-link-51b68c72.js";import"./useInfiniteQuery-bc6f39db.js";import"./chevron-right-ec77f771.js";import"./star-82cb155e.js";const R=({review:e})=>s.jsxs("div",{className:"bg-white p-4 space-y-2 shadow-lg rounded-xl",children:[s.jsx(t,{to:`/users/profile/${e.userId}`,children:s.jsxs("div",{className:"flex",children:[s.jsx("img",{src:e.user.photo.src,className:"w-12 h-12 rounded-full"}),s.jsxs("div",{className:"ml-2",children:[s.jsx("div",{className:"font-medium",children:x(e.user.firstName,e.user.lastName)}),s.jsx(N,{currentRating:e.rating,starSize:20})]})]})}),e.reviewNote&&s.jsx("p",{children:e.reviewNote}),s.jsxs(t,{to:`/rides/details/${e._id}`,className:"px-4 py-2 rounded-xl bg-blue-100 inline-flex items-center w-auto",children:[s.jsx("span",{className:"mr-1",children:"voir la course"}),s.jsx(f,{size:20})]})]}),v=c.memo(R),$=()=>{const{driverId:e}=g(),{data:n,isLoading:r,isError:a,refetch:o,hasNextPage:d,fetchNextPage:l,isFetchingNextPage:m}=j({driverId:e});return s.jsxs("div",{id:"driver-ratings-page",children:[r&&s.jsx(u,{}),!r&&a&&s.jsx(h,{tryAgain:o}),!r&&!a&&s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4",children:"Avis & notes"}),s.jsx(p,{data:n,renderElements:i=>s.jsx(v,{review:i},i._id),fetchNextPage:l,isFetchingNextPage:m,hasNextPage:d,className:"grid-cols-1 gap-4"})]})]})};export{$ as default};
